{
	"name": "query-performance-distributions",
	"properties": {
		"folder": {
			"name": "wwi/dedicated"
		},
		"content": {
			"query": "select * from stg.DimCity option (label = 'check_replicate');\nSELECT * FROM sys.dm_pdw_exec_requests WHERE [LABEL] = 'check_replicate';\nSELECT * FROM sys.dm_pdw_request_steps WHERE [request_id] = 'QID6756';\n\nSELECT  count(*) from stg.FactSale_Slow option (label = 'count_slow1');\nSELECT * FROM sys.dm_pdw_exec_requests WHERE [LABEL] = 'count_slow1';\nSELECT * FROM sys.dm_pdw_request_steps WHERE [request_id] = 'QID6766';\n\nSELECT  count(*) from stg.FactSale_Fast option (label = 'count_fast1');\nSELECT * FROM sys.dm_pdw_exec_requests WHERE [LABEL] = 'count_fast1';\nSELECT * FROM sys.dm_pdw_request_steps WHERE [request_id] = 'QID6773';\n\nSELECT\n    FS.CustomerKey\n    ,MIN(FS.Quantity) as MinQuantity\n    ,MAX(FS.Quantity) as MaxQuantity\n    ,AVG(FS.TaxRate) as AvgTaxRate\n    ,AVG(FS.TaxAmount) as AvgTaxAmount\n    ,AVG(FS.TotalExcludingTax) as AverageSaleWithoutTax\n    ,AVG(FS.TotalIncludingTax) as AverageSaleWithTax\n    ,COUNT(DISTINCT FS.StockItemKey) as DistinctStockItems\n    ,COUNT(DISTINCT DC.Country) as DistinctCountries\nFROM\n    stg.FactSale_Slow FS\n    join stg.DimCity DC ON\n        DC.CityKey = FS.CityKey\nGROUP BY\n    FS.CustomerKey\noption (label = 'select_slow1');\nSELECT * FROM sys.dm_pdw_exec_requests WHERE [LABEL] = 'select_slow1';\nSELECT * FROM sys.dm_pdw_request_steps WHERE [request_id] = 'QID6781';\n\nSELECT\n    FS.CustomerKey\n    ,MIN(FS.Quantity) as MinQuantity\n    ,MAX(FS.Quantity) as MaxQuantity\n    ,AVG(FS.TaxRate) as AvgTaxRate\n    ,AVG(FS.TaxAmount) as AvgTaxAmount\n    ,AVG(FS.TotalExcludingTax) as AverageSaleWithoutTax\n    ,AVG(FS.TotalIncludingTax) as AverageSaleWithTax\n    ,COUNT(DISTINCT FS.StockItemKey) as DistinctStockItems\n    ,COUNT(DISTINCT DC.Country) as DistinctCountries\nFROM\n    stg.FactSale_Fast FS\n    join stg.DimCity DC ON\n        DC.CityKey = FS.CityKey\nGROUP BY\n    FS.CustomerKey\noption (label = 'select_fast1');\nSELECT * FROM sys.dm_pdw_exec_requests WHERE [LABEL] = 'select_fast1';\nSELECT * FROM sys.dm_pdw_request_steps WHERE [request_id] = 'QID6791';",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "devDedicatedSQLpool",
				"poolName": "devDedicatedSQLpool"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}